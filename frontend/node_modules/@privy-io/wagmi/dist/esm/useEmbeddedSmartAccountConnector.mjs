import{useEffect as t}from"react";import{useConnectors as e,useConfig as r,useReconnect as i}from"wagmi";import{injected as o}from"wagmi/connectors";const n=({getSmartAccountFromSigner:n})=>{let a=e(),c=r(),{reconnect:m}=i();t((()=>{(async()=>{let t=a.find((t=>"io.privy.wallet"===t.id));if(!t)return;let e=await t.getProvider(),r=o({target:{provider:await n({signer:e}),id:"io.privy.smart_wallet",name:"io.privy.smart_wallet",icon:""}}),i=c._internal.connectors.setup(r);c._internal.connectors.setState([i]),await(c.storage?.setItem("recentConnectorId",i.id)),m()})()}),[a,c,n])};export{n as useEmbeddedSmartAccountConnector};
